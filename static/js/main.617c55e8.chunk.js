(this.webpackJsonp501v2=this.webpackJsonp501v2||[]).push([[0],{102:function(t,e,n){},104:function(t,e,n){},105:function(t,e,n){"use strict";n.r(e);var r=n(23),a=n(10),c=n.n(a),i=n(67),o=n.n(i),u=(n(83),n(74)),s=n(75),l=n(15),g=n(41),f=n(19),d=n(111),b=n(114),O=n(71),h=n(113),j=n(2),p=n(33),v=n(1),y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Object.assign({},e),null!==t.ychange&&(e.ychange_user=t.ychange.user,e.ychange_state=t.ychange.state),e},M={doc:{content:"block+"},paragraph:{attrs:{ychange:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(t){return["p",y(t.attrs),0]}},blockquote:{attrs:{ychange:{default:null}},content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(t){return["blockquote",y(t.attrs),0]}},horizontal_rule:{attrs:{ychange:{default:null}},group:"block",parseDOM:[{tag:"hr"}],toDOM:function(t){return["hr",y(t.attrs)]}},heading:{attrs:{level:{default:1},ychange:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(t){return["h"+t.attrs.level,y(t.attrs),0]}},code_block:{attrs:{ychange:{default:null}},content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(t){return["pre",y(t.attrs),["code",0]]}},text:{group:"inline"},image:{inline:!0,attrs:{ychange:{default:null},src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM:function(t){var e={src:t.attrs.src,title:t.attrs.title,alt:t.attrs.alt};return["img",y(t.attrs,e)]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},D=new v.i({nodes:M,marks:{link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:function(t){return["a",t.attrs,0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}},ychange:{attrs:{user:{default:null},state:{default:null}},inclusive:!1,parseDOM:[{tag:"ychange"}],toDOM:function(t){return["ychange",{ychange_user:t.attrs.user,ychange_state:t.attrs.state},0]}}}}),m=n(72),x=n(6),k=n(73),A=n(57),w=n(109),F=n(110),S=n(46),E=Object(m.a)({schema:D,menuBar:!1}),_=new x.d,B=new k.a("prosemirror-debug",_),C=_.getXmlFragment("prosemirror"),q=([Object(A.c)(C),Object(w.a)(B.awareness),Object(F.c)(),Object(S.b)({"Mod-z":F.b,"Mod-y":F.a,"Mod-Shift-z":F.a})].concat(E),n(102),function(t){var e=Object(a.useRef)(),n=Object(a.useState)(null),c=Object(f.a)(n,2)[1];return Object(a.useEffect)((function(){var n={state:j.b.create({schema:D,plugins:E}),handleDOMEvents:{focus:function(e,n){var r=e.state.tr.setMeta("focused",!0);return e.dispatch(r),t.onFocus&&t.onFocus(),!1},blur:function(e,n){var r=e.state.tr.setMeta("focused",!1);return e.dispatch(r),t.onBlur&&t.onBlur(),!1}}},r=new p.c(e.current,n);c(r)}),[]),Object(r.jsx)("div",{id:"editorContainer",children:Object(r.jsx)("div",{id:"editor",ref:e})})}),z=function(t){var e=Object(h.a)({item:t.item,collect:function(t){return{isDragging:!!t.isDragging()}}}),n=Object(f.a)(e,2),a=n[0].isDragging,c=n[1];return Object(r.jsx)("div",{id:t.item.id,ref:c,className:"card",style:{display:a&&t.hideSourceOnDrag?"none":"flex",opacity:a?.5:1,top:t.item.y,left:t.item.x},children:Object(r.jsx)(q,{})})},I="card",N=n(112),X=n(70),J=n.n(X),L=(n(104),function(){return Object(r.jsx)(d.a,{backend:O.a,children:Object(r.jsx)(P,{})})}),P=function(t){var e=Object(a.useState)({x:0,y:0}),n=Object(f.a)(e,2),c=n[0],i=n[1],o=Object(a.useState)({}),d=Object(f.a)(o,2),O=d[0],h=d[1],j=Object(b.a)({accept:I,drop:function(t,e){var n=e.getDifferenceFromInitialOffset(),r=Math.round(t.x+n.x),a=Math.round(t.y+n.y);return y(t.id,r,a),{x:r,y:a}}}),p=Object(f.a)(j,2)[1],v=function(t){O[t];var e=Object(u.a)(O,[t].map(s.a));h(e)},y=function(t,e,n){h(J()(O,Object(l.a)({},t,{$merge:{x:e,y:n}})))};return Object(r.jsxs)("div",{className:"canvas",ref:p,onMouseMove:function(t){i({x:t.nativeEvent.offsetX,y:t.nativeEvent.offsetY})},onDoubleClick:function(t){!function(t,e){var n={type:I,id:Object(N.a)(),x:t,y:e};h(Object(g.a)(Object(g.a)({},O),{},Object(l.a)({},n.id,n)))}(t.nativeEvent.offsetX,t.nativeEvent.offsetY)},children:[t.debug&&Object(r.jsxs)("span",{style:{color:"white"},children:["x: ",c.x,",y: ",c.y]}),Object.entries(O).map((function(t,e){var n=Object(f.a)(t,2),a=(n[0],n[1]);return Object(r.jsx)(z,{item:a,hideSourceOnDrag:!0,onRemove:v},e)}))]})};var R=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(L,{})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root")),T()},83:function(t,e,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.617c55e8.chunk.js.map